# Codrspace CLI

This repository contains code to interact with the
[codrspace](http://codrspace.com) API via the command-line.

## Usage

`python codrspace_cli.py <filename> [username] [api_key]`

## Install
    - Clone repository
    - cd into repository directory
    - `pip install .`

Now you will have a new script, `codrspace_cli`, available in your PATH.

### Codrspace credentials

You may omit the `username` and `api_key` in the command-line arguments if you
create a file that contains this information in `~/.codrspace_credentials`.
This file should be of the following format:

    username=my_codrspace_username
    api_key=my_codrspace_api_key

You can get the above information by logging into your codrspace blog and going
to the Settings->API Settings page, `http://codrspace.com/api-settings/`.

### Expected file format

Expected file format for files passed to script (case insensitive):

    Title: <title>
    Slug: <slug>
    Status: 'published' or 'draft'
    Date: <YYYY-MM-DD HH:MM:SS>

None of the above are required.  The defaults are:

    title: First line of file
    slug: Autogenerated by codrspace
    status: 'draft'
    Date: Current time

### Executing script within VIM

I use the following line to automatically send the current file in vim to the
codrspace API:

`:nnoremap <leader>c :! codrspace_cli '%:p'<cr>`

The above line assumes you have your codrspace API credentials stored in
`~/.codrspace_credentials`.  You can change the above line to something
similiar to the following if you do **not** have your credentials stored this
way:

`:nnoremap <leader>c :! codrspace_cli '%:p' <codrspace_username> <codrspace_apikey><cr>`
